/*
 * Copyright (C) 2009-2019 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["sap/ui/base/Object","fin/ap/process/payments/lib/FieldMatrix"],function(P,F){"use strict";var a=P.extend("fin.ap.process.payments.ext.controller.FieldMapper",{constructor:function(){this.fields=function(){return F.FIELDS;};}});a.prototype.getAllFields=function(){return this.fields();};a.prototype.getFields=function(){var f=this.fields().slice();f.splice(0,2);return f;};a.prototype.getDateFields=function(){var f=this.fields().filter(function(i){return i.date;});return f.length>0?f:null;};a.prototype.getAmountFields=function(){var f=this.fields().filter(function(i){return i.currency;});return f.length>0?f:null;};a.prototype.getBankDetailsMandatoryFields=function(){var f=[this.getField("PayeeBankCountry"),this.getField("PayeeBankInternalID"),this.getField("PayeeBankAccount")];return f.length>0?f:null;};a.prototype.getBankDetailsOptionalFields=function(){var f=[this.getField("PayeeBankControlKey"),this.getField("PayeeBank"),this.getField("BankDetailReference")];return f.length>0?f:null;};a.prototype.getBankDetailsFields=function(){var m=this.getBankDetailsMandatoryFields();var o=this.getBankDetailsOptionalFields();return(m&&o)?m.concat(o):null;};a.prototype.getBoolFields=function(){var f=[this.getField("IsSinglePayment"),this.getField("IsUrgentPayment")];return f.length>0?f:null;};a.prototype.getPayReqTypeField=function(){return this.getField("PaymentRequestType");};a.prototype.getPayReqVariantField=function(){return this.getField("PaymentRequestVariant");};a.prototype.getRepCodeField=function(){return this.getField("RepetitiveCode");};a.prototype.getIBANField=function(){return this.getField("PayeeIBAN");};a.prototype.getAccDocField=function(){return this.getField("AccountingDocument");};a.prototype.getClearingAccDocField=function(){return this.getField("ClearingAccountingDocument");};a.prototype.getBankAccountField=function(){return this.getField("PayeeBankAccount");};a.prototype.getField=function(f){return this.getFieldDetails(f,this.fields());};a.prototype.getFieldDetails=function(f,b){var c=b.filter(function(i){return i.field===f;});return c.length>0?c[0]:null;};a.prototype.getFieldsByGroup=function(g){var f=this.fields().filter(function(i){return i.group===g;});return f.length>0?f:null;};a.prototype.getProperties=function(f,b,s){var p=this.parseSettings({fieldName:f,appMode:b,action:s.action,mode:s.mode});var v=Object.keys(p).length>0;return v?this.returnProperties(p):false;};a.prototype.parseSettings=function(s){var v=Object.keys(s).every(function(k){return s[k];});return v?{field:this.getField(s.fieldName),parsedAppMode:"appMode"+s.appMode.charAt(0).toUpperCase()+s.appMode.slice(1),parsedAction:"action"+s.action.charAt(0).toUpperCase()+s.action.slice(1),mode:s.mode}:{};};a.prototype.returnProperties=function(s){return s.field[s.parsedAppMode][s.parsedAction][s.mode].properties;};a.prototype.isFieldEditable=function(f,b,s){var p=this.getProperties(f,b,s);return p?p.editable:false;};a.prototype.isFieldAvailable=function(f,b,s){var p=this.getProperties(f,b,s);return p?p.available:false;};a.prototype.isFieldVisible=function(f,b,s,v){var i=!v||v==="0.0";var p=this.getProperties(f,b,s);return p?(p.editable||(p.available&&!i)):false;};a.prototype.isFieldMandatory=function(f,b,s){var p=this.getProperties(f,b,s);return p?p.mandatory:false;};a.prototype.isGroupAvailable=function(g,b,s){return this.getFieldsByGroup(g).some(function(i){return this.isFieldAvailable(i.field,b,s);}.bind(this));};return a;});
